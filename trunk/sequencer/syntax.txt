identifier is an arbitrary string not containing whitespace.

tid := identifier // '-1' is the special unsolicited event tid
channel := identifier
integer := [0-9]+

// response sent to client

completion := 'LSTN' | 'DISC' | 'ACPT' 
	     'MLCL' | 'CNFO' | 'CNFC'

// LSTN: listen 
// DISC: disconnect
// ACPT: accept
// MLCL: molecule
// CNFO: conference open
// CNFC: conference close

event := 'DTMF' | 'DISC'

data := identifier*

result := '0' | '1'

response := tid completion result device data

unsolicited_event := '-1' event device data

// listen for incoming call

trunk := identifier | 'any'
did := identifier | 'any'

listen := tid 'GLOBAL' 'LSTN' trunk did

// disconnect call
disconnect := tid channel 'DISC'

// do media stuff

notification := 'start' | 'stop' | 'both'

atom := play notification | record notification | dtmf notification | beep notification
	| silence notification | conference notification

play := 'play' identifier

record := 'record' identifier integer

dtmf := 'dtmf' integer

beep := 'beep' integer

silence := 'silence' integer

conference := 'conference' identifier

add := tid channel 'add' integer integer atom+

exit := 'exit'
